{"ast":null,"code":"var _jsxFileName = \"/Users/LiYongzhi/Desktop/error_log_management/src/components/ParentComponent.js\";\nimport React, { Component } from 'react';\nimport ReactDOM from \"react-dom\";\nvar store = {\n  headerOffset: null\n};\nlet data = [{\n  id: 0,\n  name: \"name 0\",\n  details: \"details 0\",\n  state: \"live\"\n}, {\n  id: 1,\n  name: \"name 1\",\n  details: \"details 1\",\n  state: \"live\"\n}, {\n  id: 2,\n  name: \"name 2\",\n  details: \"details 2\",\n  state: \"draft\"\n}, {\n  id: 3,\n  name: \"name 3\",\n  details: \"details 3\",\n  state: \"live\"\n}, {\n  id: 4,\n  name: \"name 4\",\n  details: \"details 4\",\n  state: \"live\"\n}, {\n  id: 5,\n  name: \"name 5\",\n  details: \"details 5\",\n  state: \"live\"\n}, {\n  id: 6,\n  name: \"name 6\",\n  details: \"details 6\",\n  state: \"live\"\n}, {\n  id: 7,\n  name: \"name 7\",\n  details: \"details 7\",\n  state: \"live\"\n}, {\n  id: 8,\n  name: \"name 8\",\n  details: \"details 8\",\n  state: \"live\"\n}, {\n  id: 9,\n  name: \"name 9\",\n  details: \"details 9\",\n  state: \"live\"\n}, {\n  id: 10,\n  name: \"name 10\",\n  details: \"details 10\",\n  state: \"live\"\n}];\nlet cols = [{\n  icon: \"\",\n  label: \"Order Number\"\n}, {\n  icon: \"\",\n  label: \"Name\"\n}, {\n  icon: \"\",\n  label: \"Details\"\n}, {\n  icon: \"\",\n  label: \"State\"\n}];\n\nclass RowItem extends Component {\n  constructor() {\n    super();\n    this.state = {\n      open: false\n    };\n  }\n\n  toggleRow(e) {\n    console.log('toggleRow');\n    this.setState({\n      open: !this.state.open\n    });\n  }\n\n  render() {\n    let classes = '';\n\n    if (this.state.open) {\n      classes = 'open';\n    }\n\n    return React.createElement(\"li\", {\n      onClick: this.toggleRow.bind(this),\n      className: classes,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"heading\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, this.props.id), React.createElement(\"div\", {\n      className: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, this.props.name), React.createElement(\"div\", {\n      className: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, this.props.details), \"             \", React.createElement(\"div\", {\n      className: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, this.props.state)), React.createElement(RowContent, {\n      open: this.state.open,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }), this.props.children);\n  }\n\n}\n\n;\n\nclass RowContent extends Component {\n  clicker() {}\n\n  render() {\n    let jsxhtml = React.createElement(\"div\", {\n      className: \"content\",\n      onClick: this.clicker.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, \"row content\", this.props.children);\n\n    if (this.props.open) {\n      jsxhtml = React.createElement(\"div\", {\n        className: \"content open\",\n        onClick: this.clicker.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, \"row content\", this.props.children);\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, jsxhtml);\n  }\n\n}\n\n;\n\nclass Table extends Component {\n  constructor() {\n    super();\n    this.state = {\n      headerOffset: null,\n      headerFixed: true\n    };\n  } //   handleScroll(e) {\n  //     let scrollTop = e.srcElement.body.scrollTop;\n  //     console.log('scroll...', scrollTop, this.state.headerOffset);\n  //     this.setState({\n  //       headerFixed: true\n  //     });\n  //   }\n\n\n  componentDidMount() {\n    //   window.addEventListener('scroll', this.handleScroll.bind(this));\n    // THIS SEEMS THE ONLY PLACE WE CAN PICK UP THE REF FOR THE HEADER\n    console.log('reactdom: ', ReactDOM.findDOMNode(this.refs.header));\n    store.headerOffset = ReactDOM.findDOMNode(this.refs.header).getBoundingClientRect().top;\n    console.log('store:', store.headerOffset); // this.setState({headerOffset:ReactDOM.findDOMNode(this.refs.header)});\n  }\n\n  render() {\n    let columns = this.props.columns.map((item, inx) => {\n      return React.createElement(HeaderColumn, {\n        label: item.label,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      });\n    }); //go through the rows\n\n    let rows = this.props.data.map((item, inx) => {\n      return React.createElement(RowItem, Object.assign({}, item, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      }));\n    });\n    let classes = 'header';\n\n    if (this.props.headerFixed) {\n      classes = 'header fixed';\n    }\n\n    return React.createElement(\"div\", {\n      className: \"table\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220\n      },\n      __self: this\n    }, this.props.children, React.createElement(\"div\", {\n      className: classes,\n      ref: \"header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222\n      },\n      __self: this\n    }, columns, React.createElement(\"div\", {\n      className: \"shadow\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222\n      },\n      __self: this\n    })), React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223\n      },\n      __self: this\n    }, rows));\n  }\n\n}\n\nclass HeaderColumn extends Component {\n  constructor() {\n    super();\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"hcol\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235\n      },\n      __self: this\n    }, this.props.label);\n  }\n\n}\n\nclass ParentComponent extends Component {\n  constructor() {\n    super();\n    this.state = {\n      tableHeader: null,\n      tableHeaderFixed: false\n    };\n  }\n\n  handleScroll(e) {\n    // console.log(e);\n    let scrollTop = e.srcElement.body.scrollTop; //HOW DO WE GET THE REFS HERE FOR THE ITEM OFFSET?\n    //itemTranslate = Math.min(0, scrollTop/3 - 60);\n\n    console.log('app scroll...', scrollTop, store.headerOffset); // console.log('reactdom: ', ReactDOM.findDOMNode(this.refs.header), this.refs);\n    // console.log(ReactDOM.findDOMNode(this.refs.header));\n\n    if (scrollTop >= store.headerOffset) {\n      this.setState({\n        tableHeaderFixed: true\n      });\n    } else {\n      this.setState({\n        tableHeaderFixed: false\n      });\n    }\n  }\n\n  componentDidMount() {\n    console.log('app did mount');\n    window.addEventListener('scroll', this.handleScroll.bind(this)); //does not work from here...\n    // console.log('reactdom: ', ReactDOM.findDOMNode(this.refs.header), this.refs);\n    // this.setState({tableHeader:ReactDOM.findDOMNode(this.refs.header)});\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"topbox\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289\n      },\n      __self: this\n    }, \"This is maybe a top section...\"), React.createElement(Table, {\n      data: data,\n      columns: cols,\n      headerFixed: this.state.tableHeaderFixed,\n      scrollFn: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290\n      },\n      __self: this\n    }));\n  }\n\n}\n\n;\nexport { ParentComponent, RowContent, RowItem, Table, HeaderColumn };","map":{"version":3,"sources":["/Users/LiYongzhi/Desktop/error_log_management/src/components/ParentComponent.js"],"names":["React","Component","ReactDOM","store","headerOffset","data","id","name","details","state","cols","icon","label","RowItem","constructor","open","toggleRow","e","console","log","setState","render","classes","bind","props","children","RowContent","clicker","jsxhtml","Table","headerFixed","componentDidMount","findDOMNode","refs","header","getBoundingClientRect","top","columns","map","item","inx","rows","HeaderColumn","ParentComponent","tableHeader","tableHeaderFixed","handleScroll","scrollTop","srcElement","body","window","addEventListener"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'; \nimport ReactDOM from \"react-dom\";\n\nvar store = {\n    headerOffset: null\n  };\n  \n  let data = [\n    {\n      id: 0,\n      name: \"name 0\",\n      details: \"details 0\",\n      state: \"live\"\n    },\n    {\n      id: 1,\n      name: \"name 1\",\n      details: \"details 1\",\n      state: \"live\"\n    },\n    {\n      id: 2,\n      name: \"name 2\",\n      details: \"details 2\",\n      state: \"draft\"\n    },\n    {\n      id: 3,\n      name: \"name 3\",\n      details: \"details 3\",\n      state: \"live\"\n    },\n    {\n      id: 4,\n      name: \"name 4\",\n      details: \"details 4\",\n      state: \"live\"\n    },\n    {\n      id: 5,\n      name: \"name 5\",\n      details: \"details 5\",\n      state: \"live\"\n    },\n    {\n      id: 6,\n      name: \"name 6\",\n      details: \"details 6\",\n      state: \"live\"\n    },\n    {\n      id: 7,\n      name: \"name 7\",\n      details: \"details 7\",\n      state: \"live\"\n    },\n    {\n      id: 8,\n      name: \"name 8\",\n      details: \"details 8\",\n      state: \"live\"\n    },\n    {\n      id: 9,\n      name: \"name 9\",\n      details: \"details 9\",\n      state: \"live\"\n    },\n    {\n      id: 10,\n      name: \"name 10\",\n      details: \"details 10\",\n      state: \"live\"\n    }                \n  ];\n  \n  let cols = [\n    {\n      icon: \"\",\n      label: \"Order Number\"\n    },\n    {\n      icon: \"\",\n      label: \"Name\"\n    },\n    {\n      icon: \"\",\n      label: \"Details\"\n    },\n    {\n      icon: \"\",\n      label: \"State\"\n    }  \n  ]\n  \n  \n  class RowItem extends Component {\n    \n    constructor() {\n      super();\n      \n      this.state = {\n        open: false\n      }\n    }  \n    \n    toggleRow(e) {\n      console.log('toggleRow');\n      \n      this.setState({open: !this.state.open});\n    }\n    \n    \n    render(){\n      \n      let classes = '';\n      if (this.state.open) {\n        classes = 'open';\n      }\n      \n      return (\n        <li onClick={this.toggleRow.bind(this)} className={classes}>\n          <div className=\"heading\">\n            <div className=\"col\">{this.props.id}</div>\n            <div className=\"col\">{this.props.name}</div>\n            <div className=\"col\">{this.props.details}</div>             <div className=\"col\">{this.props.state}</div>     \n          </div>\n          <RowContent open={this.state.open}/>\n          {this.props.children}\n        </li>\n      )\n    }\n    \n  };\n  \n  \n  class RowContent extends Component {\n    \n    clicker() {\n      \n    }\n    \n    render(){\n      \n      let jsxhtml = (<div className=\"content\" onClick={this.clicker.bind(this)}>\n          row content\n          {this.props.children}\n        </div>);\n      \n      if (this.props.open) {\n        jsxhtml = (<div className=\"content open\" onClick={this.clicker.bind(this)}>\n          row content\n          {this.props.children}\n        </div>);\n      }\n      \n      return (\n        <div>\n        {jsxhtml}\n          </div>\n      )\n    }\n    \n  };\n  \n  \n  class Table extends Component {\n    constructor() {\n      super();\n      \n      this.state = {\n        headerOffset: null,\n        headerFixed: true\n      }\n    }\n    \n  //   handleScroll(e) {\n      \n  //     let scrollTop = e.srcElement.body.scrollTop;\n  //     console.log('scroll...', scrollTop, this.state.headerOffset);\n      \n      \n      \n      \n  //     this.setState({\n  //       headerFixed: true\n  //     });\n  //   }\n    \n    componentDidMount() {\n    //   window.addEventListener('scroll', this.handleScroll.bind(this));\n      // THIS SEEMS THE ONLY PLACE WE CAN PICK UP THE REF FOR THE HEADER\n      console.log('reactdom: ', ReactDOM.findDOMNode(this.refs.header));\n      \n      store.headerOffset = ReactDOM.findDOMNode(this.refs.header).getBoundingClientRect().top;  \n      \n      \n      console.log('store:', store.headerOffset);\n      \n      \n      // this.setState({headerOffset:ReactDOM.findDOMNode(this.refs.header)});\n    }\n    \n    render(){\n      \n      let columns = this.props.columns.map((item, inx) => {\n        return (<HeaderColumn label={item.label}/>);\n      });    \n      \n      //go through the rows\n      let rows = this.props.data.map((item, inx) => {\n        return (<RowItem {...item}></RowItem>);\n      });\n      \n      let classes = 'header'; \n      if (this.props.headerFixed) {\n        classes = 'header fixed';\n      }\n      \n     return (<div className=\"table\">\n            {this.props.children} \n         <div className={classes} ref=\"header\">{columns}<div className=\"shadow\"></div></div>\n            <ul>{rows}</ul>\n           </div>); \n    }\n    \n  }\n  \n  class HeaderColumn extends Component {\n    constructor() {\n      super();\n    }\n    \n    render(){\n     return (<div className=\"hcol\">{this.props.label}</div>); \n    }\n    \n  }\n  \n  \n  class ParentComponent extends Component{\n    constructor() {\n      super();\n      \n      this.state = {\n        tableHeader: null,\n        tableHeaderFixed: false\n      }\n      \n    }\n    \n    handleScroll(e) {\n      // console.log(e);\n      let scrollTop = e.srcElement.body.scrollTop;\n      \n      //HOW DO WE GET THE REFS HERE FOR THE ITEM OFFSET?\n      \n          //itemTranslate = Math.min(0, scrollTop/3 - 60);\n      console.log('app scroll...', scrollTop, store.headerOffset);\n      // console.log('reactdom: ', ReactDOM.findDOMNode(this.refs.header), this.refs);\n      // console.log(ReactDOM.findDOMNode(this.refs.header));\n      \n      if (scrollTop >= store.headerOffset) {\n        this.setState({\n          tableHeaderFixed: true\n        });\n      } else {\n        this.setState({\n          tableHeaderFixed: false\n        });\n      }\n    }\n    \n    componentDidMount() {\n      console.log('app did mount');\n      window.addEventListener('scroll', this.handleScroll.bind(this));\n      \n      //does not work from here...\n      // console.log('reactdom: ', ReactDOM.findDOMNode(this.refs.header), this.refs);\n      // this.setState({tableHeader:ReactDOM.findDOMNode(this.refs.header)});\n    }  \n    \n    \n    render(){\n       \n      \n      return (\n        <div className=\"container\">\n          <div className=\"topbox\">This is maybe a top section...</div>\n          <Table data={data} columns={cols} headerFixed={this.state.tableHeaderFixed} scrollFn=''/>\n        </div>\n      )\n    }\n    \n  };\n  \n  export {ParentComponent, RowContent, RowItem, Table, HeaderColumn};\n  "]},"metadata":{},"sourceType":"module"}